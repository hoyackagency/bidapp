{% extends "layouts/base.html" %}

{% block title %} Feed detail {% endblock title %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

  <div class="row">
    <div class="card">
      <div class="card-header">
        <h5 class="card-category">Feed detail</h5>
        <h3 class="card-title">{{ feed.title }}</h3>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-sm-1">
            <button
              class="btn btn-primary btn-round btn-icon"
              id="decline-feed"
              onclick="procfeed({{feed.id}}, 'decline')"
            >
              <i class="fa fa-thumbs-down"></i>
            </button>
          </div>
          
          <div class="col-sm-10">
            <div class="row form-horizontal">
              <label class="col-sm-2 col-form-label">Title</label>
              <div class="col-sm-10" style="padding:0 5px 0 15px;white-space: pre-line;">
                <a id="feed-title" href="{{ feed.link }}" target="_blank">{{ feed.title }}</a>
              </div>
            </div>
            <div class="row form-horizontal">
              <label class="col-sm-2 col-form-label">Description</label>
              <div class="col-sm-10" style="padding:0 5px 0 15px;white-space: pre-line;">
                {{feed.content}}
              </div>
            </div>
            <div class="row form-horizontal">
              <label class="col-sm-2 col-form-label">Pay Range</label>
              <div class="col-sm-10" style="padding:0 5px 0 15px;white-space: pre-line;">
                {{feed.pay_range}}
              </div>
            </div>
            <div class="row form-horizontal">
              <label class="col-sm-2 col-form-label">Job Type</label>
              <div class="col-sm-10" style="padding:0 5px 0 15px;white-space: pre-line;">
                {{feed.job_type}}
              </div>
            </div>
            <div class="row form-horizontal">
              <label class="col-sm-2 col-form-label">Category</label>
              <div class="col-sm-10" style="padding:0 5px 0 15px;white-space: pre-line;">
                {{feed.category}}
              </div>
            </div>
            <div class="row form-horizontal">
              <label class="col-sm-2 col-form-label">Skills</label>
              <div class="col-sm-10" style="padding:0 5px 0 15px;white-space: pre-line;">
                <input type="text" value="{{feed.skills}}" class="tagsinput" data-role="tagsinput" data-color="success" />
              </div>
            </div>
            <div class="row form-horizontal">
              <label class="col-sm-2 col-form-label">Country</label>
              <div class="col-sm-10" style="padding:0 5px 0 15px;white-space: pre-line;">
                {{feed.country}}
              </div>
            </div>

            <div class="row mt-4">
              <div class="col-sm-6 text-right">
                <button
                  class="btn btn-primary btn-round btn-icon"
                  id="prev-feed"
                  onclick="procfeed({{feed.id}}, 'prev')"
                >
                  <i class="fa fa-arrow-left"></i>
                </button>
              </div>
              <div class="col-sm-6">
                <button
                  class="btn btn-primary btn-round btn-icon"
                  id="next-feed"
                  onclick="procfeed({{feed.id}}, 'next')"
                >
                  <i class="fa fa-arrow-right"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="col-sm-1">
            <button
              class="btn btn-primary btn-round btn-icon"
              id="accept-feed"
              onclick="procfeed({{feed.id}}, 'accept')"
            >
              <i class="fa fa-thumbs-up"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script>

  function procfeed(feed_id, status) {
    window.location = `/feeds/${feed_id}/?status=${status}`;
  }

</script>
{% endblock javascripts %}
